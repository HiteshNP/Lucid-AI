<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}Welcome{% endblock %}</title>
    
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <style>
        /* Default light mode styles */
        body {
            background-color: white;
            color: black;
        }

        /* Dark mode styles */
        body.dark-mode {
            background-color: #121212;
            color: white;
        }

        .dark-mode .navbar {
            background-color: transparent !important; /* Remove background color */
            box-shadow: none !important; /* Remove shadow if needed */
        }

        .dark-mode .navbar .nav-link-container {
            position: relative;
        }

        .dark-mode .navbar .nav-link-container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(255, 255, 255, 0.8); /* Semi-transparent background */
            z-index: -1; /* Behind the text */
            opacity: 0; /* Initially hidden */
            transition: opacity 0.3s ease-in-out; /* Smooth opacity transition */
            border-radius: 8px; /* Optional: Rounded corners */
        }

        .dark-mode .navbar .nav-link-container:hover::before {
            opacity: 1; /* Show background on hover */
        }

        .dark-mode .nav-link {
            color: white !important;
            position: relative; /* Ensure z-index works */
        }

        .navbar-brand {
            position: relative; /* Ensure logo has stacking context */
            z-index: 1001; /* Higher than other navbar elements */
        }

        .navbar-brand img {
            height: 60px;
            border-radius: 50%;
        }

        .navbar-brand span {
            background: linear-gradient(to right, rgb(159, 228, 243), rgb(19, 95, 126));
            font-size: 25px;
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            font-weight: bold;
            margin-left: 10px;
        }

        /* Toggle switch styles */
        .toggle-switch {
            position: relative;
            display: inline-block;
            width: 40px;  /* Reduced width */
            height: 20px;  /* Reduced height */
            vertical-align: middle;  /* Aligns the switch vertically with the nav items */
        }

        .toggle-switch input {
            display: none;
        }

        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: .4s;
            border-radius: 20px;
        }

        .slider:before {
            position: absolute;
            content: "";
            height: 16px;  /* Reduced size */
            width: 16px;  /* Reduced size */
            left: 2px;
            bottom: 2px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }

        input:checked + .slider:before {
            transform: translateX(20px);  /* Adjusted for new size */
        }
    </style>
</head>
<body>

<nav class="navbar navbar-expand-lg fixed-top" id="navbar">
    <div class="container">
        <a href="/" class="navbar-brand d-flex align-items-center">
            <img src="/static/Lucid_logo.png" alt="Logo">
            <span>Lucid AI</span>
        </a>        
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarResponsive">
            <ul class="navbar-nav ml-auto align-items-center">
                <li class="nav-item">
                    <div class="nav-link-container">
                        <a class="nav-link" href="/">Home</a>
                    </div>
                </li>
                <li class="nav-item">
                    <div class="nav-link-container">
                        <a class="nav-link" href="#services">About</a>
                    </div>
                </li>
                <li class="nav-item">
                    <div class="nav-link-container">
                        <label class="toggle-switch mb-0">
                            <input type="checkbox" id="theme-toggle">
                            <span class="slider"></span>
                        </label>
                    </div>
                </li>
            </ul>
        </div>
    </div>
</nav>

<!-- Page Content -->
<div class="container mt-5 pt-5"> <!-- Adjusted margin and padding to account for fixed navbar -->
    {% block content %}
    <!-- Content goes here -->
    {% endblock %}
</div>

<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.3/dist/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
<script>
    document.addEventListener('DOMContentLoaded', (event) => {
        const toggleButton = document.getElementById('theme-toggle');
        const body = document.body;

        toggleButton.addEventListener('change', () => {
            body.classList.toggle('dark-mode');
        });
    });
</script>
</body>
</html>
